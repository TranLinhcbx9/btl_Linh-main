@model Eshopper.Models.EF.SanPham

@{ ViewBag.Title = "Delete";
    Layout = "~/Areas/Admin/Views/Shared/_MainLayoutAdmin.cshtml"; }



<link href="~/Areas/AssetAdmin/css/indexadmin.css" rel="stylesheet" type="text/css">

<link href="~/Areas/AssetAdmin/css/crudadmin.css" rel="stylesheet" type="text/css">

<div id="titleadmin">XÓA SẢN PHẨM</div>
<div class="text-center">
    <div style="margin-left: 1%">Bạn có muốn xóa không?</div>
    <div>

        <dl class="dl-horizontal">
            <dt>
                @Html.DisplayNameFor(model => model.BangKhuyenMai.MaKM)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.BangKhuyenMai.MaKM)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.LoaiSP.TenLoai)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.LoaiSP.TenLoai)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.TenSP)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.TenSP)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.SoLuong)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.SoLuong)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.DonGia)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.DonGia)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.MoTa)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.MoTa)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.GiaKM)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.GiaKM)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.URLAnh)
            </dt>





            <div>
                @if (Model.URLAnh != null)
                {
    <div style="width:100px">
        <img src="@Path.Combine(Model.URLAnh)" class="img-thumbnail" />
    </div>
}

            </div>


        </dl>

        @using (Html.BeginForm())
        {
@Html.AntiForgeryToken()

                <div class="form-actions no-color" style="margin: 1%">
                    <input type="submit" value="Xóa" class="btn btn-default" style="width:8%" />

                </div>
                                <div style="margin: 1%">
                                    @Html.ActionLink("Quay lại", "Index")
                                </div>}
    </div>
</div>


@section scripts{

    <script>
        function loadFile(event) {
            var files = event.target.files;
            var acceptFileTypes = /^image\/(gif|jpe?g|png)$/i;
            if (files[0]["type"].length && !acceptFileTypes.test(files[0]["type"])) {
                alert("Chỉ chấp nhận định dạng jpeg, jpg, png, gif");
                $("#LoadImages .picture").remove();
                $("#LoadImages").append('<input type="file" class="picture" name="picture" onchange="loadFile(event)" />')
                return false;
            }
            if (files[0]["size"] > 4000000) {
                alert("Dung lượng ảnh lớn hơn 4MB");
                $("#LoadImages .picture").remove();
                $("#LoadImages").append('<input type="file" class="picture" name="picture" onchange="loadFile(event)" />')
                return false;
            }
            $("#images-group").html('<div class="multiple-images-wrapper col-md-2"><img src="' + URL.createObjectURL(event.target.files[0]) + '" class="img-thumbnail" /><a href="javascript:;" id="img-0" class="btn btn-outline-dark" onclick="deleteImage(0)"><span>x</span></a></div>');
        }
        function deleteImage(divid) {
            if (confirm('Bạn có chắc xóa ảnh này?')) {
                $('#img-' + divid).parent().fadeOut().remove();
                $("#LoadImages .picture").remove();
                $("#LoadImages").append('<input type="file" class="picture" name="picture" onchange="loadFile(event)" />')
            }
        }</script>
}


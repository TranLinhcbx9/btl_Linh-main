@using Eshopper.Models;
@model List<CartItem>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section jsFooter{
    <script src="/Assets/assets/js/controller/cardController.js"></script>
}


<header class="">
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="index.html"><h2>AppleShop<em> Website</em></h2></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item ">
                        <a class="nav-link" href="/Home/Index">
                            Trang chủ
                            @*<span class="sr-only">(current)</span>*@
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="@Url.Action("Index", "Product")">Sản phẩm</a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link">Giỏ hàng</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="dropdown-toggle nav-link" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Thông tin</a>

                        <div class="dropdown-menu">
                            <a class="dropdown-item" href="about.html">Thông tin vê chúng tôi</a>
                            <a class="dropdown-item" href="blog.html">Blog</a>
                            @*<a class="dropdown-item" href="testimonials.html">Testimonials</a>
                                <a class="dropdown-item" href="terms.html">Terms</a>*@
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Liên lạc với chúng tôi</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>
<div class="page-heading header-text">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Checkout</h1>
                <span>Lorem ipsum dolor sit amet.</span>
            </div>
        </div>
    </div>
</div>

<div class="contact-information">
    <div class="container">
        <ul class="list-group list-group-flush">
            @if (Model.Count > 0)
            {
                <table class="table">
                    <thead>
                        <tr>
                            <td>Mã SP</td>
                            <td>Tên SP</td>
                            <td>Ảnh SP</td>
                            <td>Số lượng</td>
                            <td>Đơn giá</td>
                            <td>Thành tiền</td>
                            <td></td>
                        </tr>
                    </thead>

                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>@item.Product.MaSP</td>
                                <td>@item.Product.TenSP</td>
                                <td><img src="@item.Product.URLAnh" width="100" /></td>
                                <td><input type="text" data-id="@item.Product.MaSP.Trim()" class="quantity" value="@item.Quantity" /></td>
                                <td>@(item.Product.DonGia > item.Product.GiaKM ? item.Product.GiaKM.GetValueOrDefault(0).ToString("N0") : item.Product.DonGia.GetValueOrDefault(0).ToString("N0"))</td>
                                <td>@(((item.Product.GiaKM.GetValueOrDefault(0) * item.Quantity)).ToString("N0"))</td>
                                <td><a href="#" data-id="@item.Product.MaSP.Trim()" class="btn-delete">Xóa</a></td>
                            </tr>
                        }

                    </tbody>

                </table>
                <br/>
                <div style="text-align: center">
                    <button id="btnContinue" class="btn">Tiếp tục mua hàng</button>
                    <button id="btnUpdate" class="btn">Cập nhật giỏ hàng</button>
                    <button id="btnDeleteAll" class="btn">Xóa giỏ hàng</button>
                    <button id="btnPayment" class="btn">Thanh toán</button>
                </div>
            }
            else
            {
                <span class="alert alert-danger">Chưa có sản phẩm nào trong giỏ hàng</span>
            }
        </ul>
    </div>
</div>


<br/>


